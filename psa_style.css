@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

:root {
    --bg-dark: #23272a;
    --bg-medium: #2c2f33;
    --bg-light: #36393e;
    --border-color: #40444b;
    --text-primary: #dcddde;
    --text-secondary: #8e9297;
    --accent-blue: #5865f2;
    --accent-green: #57f287;
    --accent-orange: #faa61a;
    --accent-red: #ed4245;
    --chart-line: #4f545c;
    --font-main: 'Roboto', sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: var(--font-main); background-color: var(--bg-dark); color: var(--text-primary); }

.psa-dashboard { display: grid; grid-template-columns: 1fr; height: auto; }
.sidebar { background-color: var(--bg-medium); border-right: 1px solid var(--border-color); padding: 20px; display: flex; flex-direction: column; gap: 20px; }
.sidebar-header { display: flex; align-items: center; gap: 15px; font-size: 1.2em; font-weight: 500; padding-left: 5px; }
.sidebar-header a { text-decoration: none; font-size: 1.5em; color: var(--accent-blue); }

.main-content { background-color: var(--bg-dark); padding: 20px; display: grid; grid-template-rows: auto 1fr; gap: 20px; }
.main-header { display: flex; justify-content: space-between; align-items: center; }
.header-title { font-size: 1.4em; font-weight: 500; }
.header-actions { display: flex; gap: 15px; color: var(--text-secondary); }
.header-actions a { color: var(--text-secondary); text-decoration: none; }
.header-actions a:hover { color: var(--text-primary); }

.content-grid { display: grid; grid-template-columns: 1fr; gap: 20px; }

.card { background-color: var(--bg-light); border: 1px solid var(--border-color); border-radius: 8px; display: flex; flex-direction: column; overflow: hidden; }
.card-header { background-color: var(--bg-medium); padding: 12px 15px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center; font-size: 0.9em; font-weight: 500; }
.card-body { padding: 15px; flex-grow: 1; }
.card-description { font-size: 0.9em; color: var(--text-secondary); margin-bottom: 10px; }
.card-link { font-size: 0.9em; color: var(--accent-blue); text-decoration: none; }
.options-btn { background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 1.2em; }

.method-parameters .param-section { margin-bottom: 20px; }
.method-parameters .param-title { display: block; font-size: 0.8em; font-weight: 700; color: var(--text-secondary); text-transform: uppercase; margin-bottom: 15px; padding-bottom: 5px; border-bottom: 1px solid var(--border-color); }
.control-group { margin-bottom: 15px; }
label { display: block; margin-bottom: 6px; font-size: 0.85em; font-weight: 500; color: var(--text-secondary); }
select, input { width: 100%; padding: 8px 10px; border-radius: 4px; border: 1px solid var(--border-color); background-color: var(--bg-dark); color: var(--text-primary); font-size: 0.9em; }
input:read-only { background-color: var(--bg-medium); }
.run-button { width: 100%; padding: 10px; font-size: 1em; font-weight: 500; color: white; background-color: var(--accent-blue); border: none; border-radius: 4px; cursor: pointer; transition: background-color 0.2s ease; }
.run-button:disabled { background-color: var(--border-color); cursor: not-allowed; }

.results-card-body { display: flex; flex-direction: column; }
.results-summary-container { display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 15px; font-size: 0.9em; }
.summary-values p { color: var(--text-secondary); margin-bottom: 8px; }
.summary-values strong { color: var(--text-primary); font-weight: 500; }
#zAverage { color: var(--accent-red) !important; }
#pdi { color: var(--accent-orange) !important; }
.result-quality strong.good, #report-quality-check.good { color: var(--accent-green); }
.result-quality strong.warn, #report-quality-check.warn { color: var(--accent-orange); }

.summary-table table, .peak-table-container table { width: 100%; border-collapse: collapse; font-size: 0.9em; }
.summary-table th, .summary-table td, .peak-table-container th, .peak-table-container td { padding: 8px 10px; text-align: left; border-bottom: 1px solid var(--border-color); }
.summary-table th, .peak-table-container th { font-weight: 500; color: var(--text-secondary); }

.chart-container { flex-grow: 1; height: 300px; position: relative; }
#psaChart { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--bg-dark); }
.report-quality { margin-top: 15px; font-size: 0.9em; }
.report-quality h4 { font-size: 0.8em; color: var(--text-secondary); margin-bottom: 5px; text-transform: uppercase; }
#run-log { font-family: monospace; font-size: 0.85em; color: var(--text-secondary); height: 150px; overflow-y: auto; white-space: pre-wrap; background-color: var(--bg-dark); padding: 10px; border-radius: 4px; }

.shepherd-element { background: var(--bg-light) !important; border-radius: 8px !important; border: 1px solid var(--border-color) !important; box-shadow: 0 5px 15px rgba(0,0,0,0.5) !important; }
.shepherd-header { background: var(--bg-medium) !important; padding: 1rem !important; }
.shepherd-title { color: var(--text-primary) !important; font-weight: 500 !important; font-size: 1.1em !important; }
.shepherd-text { color: var(--text-secondary) !important; padding: 1rem !important; font-size: 0.95em !important; }
.shepherd-footer { padding: 0 1rem 1rem !important; }
.shepherd-button { background: var(--accent-blue) !important; color: white !important; border: none !important; padding: 0.5rem 1rem !important; border-radius: 5px !important; font-weight: bold !important; }

@media (min-width: 1200px) {
    .psa-dashboard { grid-template-columns: 280px 1fr; height: 100vh; }
    .main-content { overflow-y: auto; }
    .content-grid { grid-template-columns: repeat(6, 1fr); grid-template-rows: 2fr 1fr; }
    .grid-col-span-3 { grid-column: span 3; }
    .grid-col-span-6 { grid-column: span 6; }
    .results-summary-container { grid-template-columns: 1fr 2fr; }
}